<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking</title>
    <link rel="stylesheet" href="booking.css">
</head>
<body>
    
    <p style="margin-top: 100px;text-align:center;margin-bottom: -4px;font-size: 20px;">*All prices are exclusive of taxes</p>
    <div id="booking-form">
        <div id="bookingInside-container">
            <form action="">
                <h2 style="margin-bottom: -1px;">PICK UP</h2>
                <input type="text" placeholder="Date" min="2022-05-30" max="2023-05-30"onfocus="{this.type='date'}">
                <input type="text" placeholder="Time" onfocus="{this.type='time'}">
                <input type="button" value="SEARCH" id = "button" onclick="searchBike()">
              </form>
            </div>
    </div>


    <div id="popularity">
        <p>Sort By</p>
        <p onclick="redirectPage()">Popularity</p>
        <p>Price-highToLow</p>
        <p>Price-lowToHigh</p>

    </div>
    <hr style="margin-left: 230px;margin-right:230px ;">
    <div id="Booking-container"></div>

   
</body>
</html>
<script>
    const booking_container = document.querySelector("#Booking-container")
 const getData = async()=>{

    const url = ` http://localhost:3000/scooties`;
    const res = await fetch(url);
    const data = await res.json();
    disPalyData(data);
 }
 getData();

const disPalyData = (data)=>{
data.forEach(element => {

    const bookCon = document.createElement("div");

    const title = document.createElement("h4");
    title.innerText = element.title;
    title.style.textAlign = "center";
    title.style.fontSize = "20px";
    title.style.marginBottom = "-1px";

    const image = document.createElement("img");
    image.src = element.url;

    const month = document.createElement("p");
    month.innerText = element.month[0]+"/Month";
    month.style.textAlign = "center";
    month.style.fontSize = "25px"


    const hr = document.createElement("hr");
    hr.style.backgroundColor = "gray";

    const booknow_button = document.createElement("button");
    booknow_button.innerText = "BOOK NOW";
    booknow_button.addEventListener("click",function(){
        paymentPage(element.id,element.month);

    })

    bookCon.append(title,image,hr,month,booknow_button);

    booking_container.append(bookCon);

});
}

const paymentPage = (id,month)=>{
    localStorage.setItem("idAndMonth",JSON.stringify(id));
    window.location.href = "./paymentPage.html";

}


const redirectPage = ()=>{
    window.location.href = "booking.html";
}

const searchBike = ()=>
{
    window.location.href = "booking.html";
}
</script>